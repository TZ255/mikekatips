<!-- OOB updates to reuse the already-open modal -->
<h5 id="paymentModalTitle" hx-swap-oob="true" class="modal-title">
  <i class="fa-solid fa-wallet me-2"></i> Thibitisha Malipo
</h5>

<div id="paymentModalBody" hx-swap-oob="true" class="modal-body">
  <p class="mb-2">
    Ombi la malipo limetumwa kwenye namba <strong><%= phone %></strong>.
    Thibitisha kwa kuweka PIN yako.
  </p>
  <div class="alert alert-info mt-3 mb-0 small" role="alert">
    <i class="fa-solid fa-circle-info me-1"></i>
    Hakikisha namba yako iko hewani. Baada ya malipo utapokea ujumbe wa kuthibitisha malipo yako na Premium Tips kufunguliwa.
  </div>
</div>

<div id="paymentModalFooter" hx-swap-oob="true" class="modal-footer">
  <button type="button" class="btn btn-outline-secondary" onclick="window.location.reload()">
    <i class="fa-solid fa-circle-xmark"></i> CANCEL
  </button>
</div>

<script>
  (function(){
    try {
      var modalEl = document.getElementById('paymentModal');
      if (modalEl && window.bootstrap) {
        var modal = window.bootstrap.Modal.getOrCreateInstance(modalEl, { backdrop: 'static', keyboard: false });
        modal.show();
      }
    } catch (e) {}
  })();
</script>
