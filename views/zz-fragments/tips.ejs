<% if (freeTips && freeTips.length > 0) { %>
<% freeTips.forEach((tip, index) => { %>
<div class="col-md-6 col-xl-4 trans_this" style="animation-delay: <%= index * 0.1 %>s;">
    <div class="card h-100 tip-card">
        <div class="card-header border-0 py-3 tip-card__header">
            <div class="d-flex justify-content-between align-items-center">
                <span class="fw-semibold text-primary">
                    <i class="fa-solid fa-gift me-1"></i>
                    Free Tip
                </span>
                <small class="text-muted">
                    <i class="fa-solid fa-calendar-check me-1"></i>
                    <%= new Date(tip.date).toLocaleDateString('sw-TZ', {day: '2-digit', month: '2-digit', year: 'numeric'}) %>
                </small>
            </div>
        </div>
        <div class="card-body p-3 p-md-4">
            <div class="d-flex justify-content-between align-items-center mb-2">
                <div class="text-secondary">
                    <i class="fa-solid fa-clock me-1"></i>
                    <span class="fw-semibold text-dark"><%= tip.time %></span>
                </div>
                <span
                    class="badge text-bg-light text-uppercase fw-semibold text-secondary"><%= tip?.league.length > 20 ? tip?.league.substring(0, 20) + '...' : tip?.league %></span>
            </div>

            <h6 class="fw-bold text-dark mb-2"><%= tip.match %></h6>
            <p class="text-muted small mb-3">
                Utabiri: <span class="fw-semibold text-dark"><%= tip.tip %></span>
            </p>

            <div class="d-flex justify-content-between align-items-center">
                <span class="badge bg-secondary text-white px-3 py-2">
                    <i class="fa-solid fa-bolt me-1"></i>
                    <%= tip.tip %>
                </span>
                <span class="fw-bold text-primary fs-5">
                    <% if (['Home Win', 'Away Win', 'Draw'].includes(tip.tip)) { %>
                    <%= tip?.odds %>
                    <% } %>
                </span>
            </div>
        </div>
    </div>
</div>
<% }); %>
<% } else { %>
<div class="col-12 text-center mt-3">
    <hr>
</div>
<% } %>

<script>
    // Trigger animation when fragment loads
    setTimeout(() => {
        document.querySelectorAll('.trans_this').forEach((el, index) => {
            setTimeout(() => {
                el.classList.add('show');
            }, index * 100);
        });
    }, 50);
</script>